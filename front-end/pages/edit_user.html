<!DOCTYPE html>
<html>
<head>
<title>User Management</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<style>
  /* Add some basic styling if needed */
  body { font-family: sans-serif; }
</style>
</head>
<body>
<div class="container">
    <h1>User Management</h1>
    <table class="table" id="userTable">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Parent ID</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Gender</th>
                <th>Country</th>
                <th>City</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr data-id="1">
                <td>John</td>
                <td>Doe</td>
                <td>null</td>
                <td>555-1234</td>
                <td>john.doe@example.com</td>
                <td>Male</td>
                <td>USA</td>
                <td>New York</td>
                <td><button class="btn btn-warning btn-sm edit-btn">Edit</button></td>
            </tr>
            <tr data-id="2">
                <td>Jane</td>
                <td>Smith</td>
                <td>1</td>
                <td>555-5678</td>
                <td>jane.smith@example.com</td>
                <td>Female</td>
                <td>Canada</td>
                <td>Toronto</td>
                <td><button class="btn btn-warning btn-sm edit-btn">Edit</button></td>
            </tr>
        </tbody>
    </table>





    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editUserModalLabel">Edit User Information</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
		<div class="modal-body">
			<form id="editUserForm">
				<input type="hidden" id="editUserId">
				<div class="mb-3"><label for="editFirstName">First Name:</label><input type="text" class="form-control" id="editFirstName"></div>
				<div class="mb-3"><label for="editLastName">Last Name:</label><input type="text" class="form-control" id="editLastName"></div>
				<div class="mb-3"><label for="editParentId">Parent ID:</label><input type="text" class="form-control" id="editParentId"></div>
				<div class="mb-3"><label for="editPhone">Phone:</label><input type="text" class="form-control" id="editPhone"></div>
				<div class="mb-3"><label for="editEmail">Email:</label><input type="email" class="form-control" id="editEmail"></div>
				<div class="mb-3">

                <label for="gender">Gender</label>
                <select class="form-control" id="gender" required>
                  <option value="" disabled selected>Select Gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                </select>

				</div>
				<div class="mb-3">

                <label for="country">Country</label>
                <select class="form-control" id="country" required>
                  <option value="" disabled selected>Select Country</option>
                  <option value="Morocco">Morocco</option>
                  <option value="France">France</option>
                  <option value="Sudan">Sudan</option>
                  <option value="Mauritania">Mauritania</option>
                  <option value="Algeria">Algeria</option>
                  <option value="Egypt">Egypt</option>
                </select>

				</div>
				<div class="mb-3"><label for="editCity">City:</label><input type="text" class="form-control" id="editCity"></div>
			</form>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
			<button type="button" class="btn btn-primary" id="saveEditUser">Save changes</button>
                </div>
            </div>
        </div>
    </div>






<script>
$(document).ready(function() {
    $('#userTable').on('click', '.edit-btn', function() {
        let row = $(this).closest('tr');
        let data = row.children('td').map(function() { return $(this).text(); }).get();
        $('#editUserId').val(row.data('id'));
        $('#editFirstName').val(data[0]);
        $('#editLastName').val(data[1]);
        $('#editParentId').val(data[2]);
        $('#editPhone').val(data[3]);
        $('#editEmail').val(data[4]);
        $('#editGender').val(data[5]);
        $('#editCountry').val(data[6]);
        $('#editCity').val(data[7]);
        $('#editUserModal').modal('show');
    });

    $('#saveEditUser').click(function() {
        let userId = $('#editUserId').val();
        let row = $(`#userTable tr[data-id="${userId}"]`);
        row.children('td:nth-child(1)').text($('#editFirstName').val());
        row.children('td:nth-child(2)').text($('#editLastName').val());
        row.children('td:nth-child(3)').text($('#editParentId').val());
        row.children('td:nth-child(4)').text($('#editPhone').val());
        row.children('td:nth-child(5)').text($('#editEmail').val());
        row.children('td:nth-child(6)').text($('#editGender').val());
        row.children('td:nth-child(7)').text($('#editCountry').val());
        row.children('td:nth-child(8)').text($('#editCity').val());
        $('#editUserModal').modal('hide');
    });
});
</script>

</div>
</body>
</html>
